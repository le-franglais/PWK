#Empire is a PowerShell and Python #post-exploitation agent, with a heavy focus on client-side exploitation adn post-exploitation of #AD deployments.  PowerShell on Windows and Python on Mac and Linux.

PowerShell Empire is no longer supported by the original devs, but updated forks have been created such as #BC-SECUIRTY.

# Installation, setup and usage 
1. run **sudo git clone https://github.com/PowerShellEmpire/Empire.git** 
2. cd into the **Empire** directory, and run **sudo ./setup/install.sh** 
3. We can launch Empire with the Python script, **sudo ./empire** 

## PowerShell Empire syntax
Using **help** within the Empire prompt will list various commands available w/in Empire.

## Listeners and Stagers
Accessed using the **listeners** command, this is the equivalent of metasploit's **multi/handler**.  #Listeners accept inbound connections from various Empire agents.
#Stagers : small pieces of code generated by Empire that are executed on the victim and connect back to a listener. 
- type **listeners** to enter the listeners context, then **uselistener** *space* *double-tab* to print available listeners. 
- *http* listener is the most basic listener, similar to **windows/meterpreter/reverse_http** in msf.  Once you select a listener, use the **info** command in the way that you'd use **show options** in msf.

## The #Empire_Agent
Once a listerner is running and the stager prepared, we need to deploy an #agent on the victim.  This agent is just teh final payload retrieved by the stager, and it allows us to execute commands and interact with the system.  The stager deletes itself and exits once it finishes execution.
- Use the **agents** command to display all active agents.
- Use the **interact** command followed by the agentName to #interact w/ the agent and execute commands via that agent on the target machine.
- Use the **help** command to show all available commands
- Use the **psinject** command to #migrate processes as you would in msf.
	- *Note* - once the process migration is completed, the original Empire agent remains active and we must switch manually to the newly created agent, again using the **interact** command.

# PowerShell modules
Leverage the **usemodule** *space* *double tab* command to list all available #modules

## Situational Awareness
The primary focus of this category is on local client adn AD #enumeration
- The #Bloodhound moule is especially noteowrhy.  It automates much of PowerView's functionality, collecting all computers, users, and groups in the domain as well as all currently logged-in users.  Results are sotred in CSV files suitale for use wiht the backend *BloodHound* application.

## Credentials and #privilege_escalation
One of the more interesting modules in this gropu is * #powerup/allchecks* 

## Lateral Movement

# Switching between Empire and Metasploit
This process is quite easy since we can have both Empire adn Metasploit shells on the same compromised host.   If an agent is active on hte host, we can use **msfvenom** to generate a meterpreter reverse shell as an executable.
